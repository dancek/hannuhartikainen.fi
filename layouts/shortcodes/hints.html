<style>
.hints li[hide] {
  visibility: hidden;
}
.hints h3 {
  flex: 1;
  padding: 0.5rem 0.5rem 0.5rem 0;
  margin: 0;
  font-size: 1.2rem;
}
.hints .show-hint {
  font-size: 1rem;
}
@media (min-width: 640px) {
  .hints .hint-heading {
    display: flex;
  }
}
</style>

<div class="hints">
  {{.Inner | markdownify}}

  <button onclick="showAllHints()">N채yt채 kaikki ratkaisut</button>
</div>

<script>
Array.from(document.querySelectorAll(".hints li")).map(e => e.setAttribute("hide", ""))

for (const h3 of document.querySelectorAll(".hints > h3")) {
  const hints = h3.parentNode
  const ul = h3.nextElementSibling

  const wrapper = document.createElement("div")
  wrapper.setAttribute("class", "hint-heading")

  const btn = document.createElement("button")
  btn.setAttribute("class", "show-hint")
  btn.appendChild(document.createTextNode("N채yt채 vinkki"))
  btn.addEventListener("click", () => showNextHint(ul))

  hints.insertBefore(wrapper, h3)

  wrapper.appendChild(h3)
  wrapper.appendChild(btn)
}

function showNextHint(el) {
  let li;
  if (el) {
    li = el.querySelector("li[hide]")
  } else {
    li = document.querySelector(".hints li[hide]")
  }

  if (li) {
    li.removeAttribute("hide")
  }
}

function showAllHints() {
  Array.from(document.querySelectorAll(".hints li")).map(e => e.removeAttribute("hide"))
}

document.addEventListener('keydown', function(e) {
  if (e.keyCode === 13) showNextHint();
})
</script>
